<!DOCTYPE html>
{% load static %}
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SADAT</title>
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{% static 'media_sistema/favicon.png' %}">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- CSS personalizado -->
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold" href="{% url 'home' %}">SADAT</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav center-buttons">
                    {% if request.resolver_match.url_name == 'home' %}
                        <li class="nav-item">
                            <a class="nav-link btn btn-outline-primary" href="{% url 'registro_cliente' %}">Soy un Cliente</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link btn btn-outline-primary dropdown-toggle" href="#" id="microempresaDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                Soy una Microempresa
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="microempresaDropdown">
                                <li><a class="dropdown-item" href="{% url 'registro_integral' %}">Microempresa Integral</a></li>
                                <li><a class="dropdown-item" href="{% url 'registro_satelite' %}">Microempresa Satélite</a></li>
                            </ul>
                        </li>
                    {% endif %}
                </ul>
                <ul class="navbar-nav ms-auto">
                    {% if user.is_authenticated %}
                        {% if user.tipo == 'cliente' and not user.is_superuser and request.resolver_match.url_name != 'dashboard' %}
                        <li class="nav-item">
                            <a class="nav-link btn btn-outline-primary mx-1" href="{% url 'catalogo_integrales' %}">Catálogo Integrales</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link btn btn-outline-primary mx-1" href="{% url 'catalogo_satelites' %}">Catálogo Satélites</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link btn btn-outline-primary mx-1" href="{% url 'mis_pedidos' %}">Mis Pedidos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link btn btn-outline-primary mx-1" href="{% url 'ver_carrito' %}">Mi Carrito</a>
                        </li>
                        <li class="nav-item">
                        </li>
                        {% endif %}
                        {% if user.tipo == 'satelite' %}
                        <li class="nav-item">
                            <a class="nav-link btn btn-outline-primary mx-1" href="{% url 'gestionar_solicitudes_confeccion' %}">Mis Pedidos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link btn btn-outline-primary mx-1" href="{% url 'agregar_servicios' %}">Añadir Servicios</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link btn btn-outline-primary mx-1" href="{% url 'gestionar_maquinaria' %}">Gestionar Maquinaria</a>
                        </li>
                        <li class="nav-item">
                            {% if user.empresa_satelite %}
                                <a class="nav-link btn btn-outline-primary mx-1" href="{% url 'reporte_empresa' user.empresa_satelite.id %}">
                                    <i class="fas fa-chart-line me-1"></i>Mis Reportes
                                </a>
                            {% endif %}
                        </li>
                        {% endif %}
                        {% if user.tipo == 'integral' %}
                        <li class="nav-item">
                            <a class="nav-link btn btn-outline-primary mx-1" href="{% url 'gestionar_pedidos' %}">Mis Pedidos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link btn btn-outline-primary mx-1" href="{% url 'gestionar_productos' %}">Mis Productos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link btn btn-outline-primary mx-1" href="{% url 'gestionar_pedidos_personalizados' %}">Pedidos Personalizados</a>
                        </li>
                        <li class="nav-item">
                            {% if user.empresa_integral %}
                                <a class="nav-link btn btn-outline-primary mx-1" href="{% url 'reporte_empresa' user.empresa_integral.id %}">
                                    <i class="fas fa-chart-line me-1"></i>Mis Reportes
                                </a>
                            {% endif %}
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link btn btn-outline-primary mx-1 dropdown-toggle" href="#" id="materiaPrimaDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                Materia Prima
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="materiaPrimaDropdown">
                                <li><a class="dropdown-item" href="{% url 'gestionar_categorias_materia_prima' %}">Categorías</a></li>
                                <li><a class="dropdown-item" href="{% url 'gestionar_materia_prima' %}">Inventario</a></li>
                                <li><a class="dropdown-item" href="{% url 'movimientos_materia_prima' %}">Movimientos</a></li>
                            </ul>
                        </li>
                        {% endif %}
                        {% if user.tipo == 'superusuario' or user.is_superuser %}
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'panel_admin_reportes' %}">Reportes de Empresas
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'reporte_global' %}">Reportes Generales</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'categorias' %}">Crear Categorías</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'gestionar_usuarios' %}">Gestionar Usuarios</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'supervisar_pagos' %}">Supervisar Pagos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'configuracion_sistema' %}">Configuración IVA</a>
                        </li>
                        {% endif %}
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'perfil' %}">Perfil</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'logout' %}">Cerrar Sesión</a>
                        </li>
                    {% else %}
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'login' %}">Iniciar Sesión</a>
                        </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        {% block content %}
            <h1>Gestión de Quejas</h1>
            <div class="filtro-form">
                <input type="text" placeholder="Fecha Inicio (dd/mm/aaaa)">
                <input type="text" placeholder="Fecha Fin (dd/mm/aaaa)">
                <select>
                    <option>Todos</option>
                </select>
                <select>
                    <option>Todos</option>
                </select>
                <button class="btn-filtrar">Filtrar</button>
                <button class="btn-limpiar">Limpiar Filtros</button>
            </div>
            <table class="tabla-resultados">
                <thead>
                    <tr>
                        <th>Usuario</th>
                        <th>Tipo</th>
                        <th>Descripción</th>
                        <th>Estado</th>
                        <th>Fecha Creación</th>
                        <th>Fecha Resolución</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td colspan="7" class="sin-resultados">No hay quejas que coincidan con los filtros seleccionados.</td>
                    </tr>
                </tbody>
            </table>
        {% endblock %}
    </div>

    <!-- Footer -->
    <footer class="footer-custom">
        <div class="container">
            <div class="row align-items-center">
                <!-- Iconos de redes sociales -->
                <div class="col-md-4 text-center text-md-start mb-3 mb-md-0">
                    <a href="https://facebook.com" class="social-icon" target="_blank">
                        <i class="bi bi-facebook"></i>
                    </a>
                    <a href="https://instagram.com" class="social-icon" target="_blank">
                        <i class="bi bi-instagram"></i>
                    </a>
                    <a href="https://wa.me/1234567890" class="social-icon" target="_blank">
                        <i class="bi bi-whatsapp"></i>
                    </a>
                </div>
                <!-- Enlaces -->
                <div class="col-md-4 text-center mb-3 mb-md-0">
                    <a href="#">Términos y condiciones</a>
                    <a href="#">Política de cookies</a>
                    <a href="#">Política de privacidad</a>
                </div>
                <!-- Derechos reservados -->
                <div class="col-md-4 text-center text-md-end">
                    <p>© 2025 SADAT. Todos los derechos reservados.</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'js/main.js' %}"></script>
    <script>
        // Animación suave para scroll interno
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Animación del navbar al hacer scroll
        let lastScroll = 0;
        window.addEventListener('scroll', () => {
            const navbar = document.querySelector('.navbar');
            const currentScroll = window.scrollY;
            
            if (currentScroll > 50) {
                navbar.style.boxShadow = '0 4px 20px rgba(96, 165, 250, 0.15)';
                navbar.style.padding = '0.75rem 0';
            } else {
                navbar.style.boxShadow = '0 2px 8px rgba(96, 165, 250, 0.08)';
                navbar.style.padding = '1rem 0';
            }
            
            lastScroll = currentScroll;
        });

        // Animación de entrada para elementos
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observar cards y secciones
        document.querySelectorAll('.card, .feature-card, .info-section').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(20px)';
            el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(el);
        });
    </script>
</body>
</html>